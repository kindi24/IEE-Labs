#include<main.h>   
#byte PORTD=0xF83         
#byte PORTB=0xF81        

// ******Από εδώ αρχίζει το κύριο πρόγραμμα*****
void main()
{                          
set_tris_d(0x00);	//Η θύρα D έξοδος
set_tris_b(0xFF);	//Η θύρα B είσοδος
PORTD=0x0F;        
//Στην πόρτα D δίνεται η αρχική τιμή 00001111
                     
while(TRUE) {      	          
//Βρόχος που δεν τελειώνει ποτέ
      while(input(PIN_B4) == 1) {	
          // Αναμονή έως ότου πατηθεί το μπουτόν
      }        
      delay_ms(50);     
      // Καθυστέρηση 50 ms για αποφυγή φαινόμενου αναπηδήσεων
     
      while(input(PIN_B4) == 0) {	

      }   
          // Αναμονή έως ότου αφεθεί το μπουτόν
      delay_ms(50); 
          // Καθυστέρηση 50 ms για αποφυγή φαινόμενου αναπηδήσεων

      PORTD=PORTD^0b11111111;   
      // γίνεται αναστροφή των τιμών των ακροδεκτών της πόρτας D
      // μέσω της λογικής πύλης XOR 
      }                 
}
